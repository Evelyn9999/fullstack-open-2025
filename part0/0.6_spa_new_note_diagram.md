# Exercise 0.6: New Note in SPA

This diagram shows what happens when a user creates a new note on  
https://studies.cs.helsinki.fi/exampleapp/spa.

```mermaid
sequenceDiagram
    participant U as User
    participant B as Browser (spa.js)
    participant S as Server

    Note over U,B: User types text and clicks **Save**

    %% JS intercepts form submit
    B->>B: onsubmit handler runs<br/>e.preventDefault()
    B->>B: Create note = { content, date }
    B->>B: notes.push(note); redrawNotes()<br/>DOM updates immediately

    %% Send to server
    B->>S: POST /exampleapp/new_note_spa<br/>Content-Type: application/json<br/>body: {"content":"...","date":"..."}
    activate S
    S-->>B: 201 Created (no redirect)
    deactivate S

    Note right of B: Page stays as-is, no reload. Notes list already updated.